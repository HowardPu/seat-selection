{"map":"{\"version\":3,\"sources\":[\"/Users/HowardPu/Documents/academic/info/info 343/new repo/seat-selection/src/pages/main.js\",\"/Users/HowardPu/Documents/academic/info/info 343/new repo/seat-selection/src/pages/disclaimer.js\",\"/Users/HowardPu/Documents/academic/info/info 343/new repo/seat-selection/src/pages/idCollection.js\",\"/Users/HowardPu/Documents/academic/info/info 343/new repo/seat-selection/src/pages/SeatSelection.js\",\"/Users/HowardPu/Documents/academic/info/info 343/new repo/seat-selection/src/App.js\",\"/Users/HowardPu/Documents/academic/info/info 343/new repo/seat-selection/src/registerServiceWorker.js\",\"/Users/HowardPu/Documents/academic/info/info 343/new repo/seat-selection/src/index.js\"],\"names\":[\"Main\",\"_Component\",\"props\",\"_this\",\"Object\",\"classCallCheck\",\"this\",\"possibleConstructorReturn\",\"getPrototypeOf\",\"call\",\"state\",\"start\",\"inherits\",\"createClass\",\"key\",\"value\",\"_this2\",\"react_default\",\"a\",\"createElement\",\"Redirect\",\"to\",\"className\",\"onClick\",\"setState\",\"Component\",\"Disclaimer\",\"agree\",\"redirect\",\"cancel\",\"color\",\"description\",\"href\",\"target\",\"rel\",\"FormGroup\",\"check\",\"Label\",\"Input\",\"type\",\"disabled\",\"setValueHandler\",\"ReaderIDCollection\",\"testURL\",\"valid\",\"readerID\",\"fullURL\",\"fetch\",\"then\",\"response\",\"text\",\"splitString\",\"split\",\"includes\",\"event\",\"fieid\",\"name\",\"change\",\"_this3\",\"onChange\",\"handleChange\",\"placeholder\",\"testVadility\",\"SeatSelection\",\"redirectToAutoSelection\",\"selfSeatSelectionStatus\",\"userID\",\"selfSeatSelection\",\"selfSelectionColor\",\"getRoomEnterSerial\",\"serial\",\"seatViewURL\",\"anatomy\",\"domain\",\"selectJSPPath\",\"serialQuery\",\"openIDQuery\",\"roomNameQuery\",\"roomNameUnknown\",\"yuelanshiIDQuery\",\"firstFloorRoomID\",\"window\",\"open\",\"AutoSeatSelectionPage\",\"_Component2\",\"back\",\"firstPreference\",\"label\",\"secondPreference\",\"thirdPreference\",\"automationStart\",\"isSuccess\",\"failReason\",\"seatOptions\",\"i\",\"isSingle\",\"push\",\"seatOptionsRange\",\"end\",\"monthConverter\",\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\",\"seatPriority\",\"pause\",\"firstPause\",\"firstStart\",\"searchSeatAndReserveLoop\",\"bind\",\"assertThisInitialized\",\"checkVadility\",\"leaveSeat\",\"firstLog\",\"prevState\",\"creatLogPiece\",\"getCurrntTime\",\"getCurrentHourAndMinute\",\"targetSeat\",\"priority\",\"_this4\",\"reserveSeat\",\"getReserveResult\",\"judgement\",\"judgeReserveResult\",\"isReserveSuccess\",\"reason\",\"_this5\",\"console\",\"log\",\"setTimeout\",\"findAllPossibleSeats\",\"possibleSeats\",\"forEach\",\"seat\",\"length\",\"reservePiece\",\"checkBefore21PM\",\"showMachenismError\",\"callback\",\"_this6\",\"leaveURL\",\"leavePath\",\"getSeatViewURL\",\"splitByLine\",\"line\",\"lineSplit\",\"secondSplit\",\"parseInt\",\"result\",\"today\",\"logRef\",\"document\",\"getElementById\",\"logPiece\",\"textNode\",\"createTextNode\",\"appendChild\",\"insertBefore\",\"seatNum\",\"reservePath\",\"roomIDQuery\",\"seatNumQuery\",\"number\",\"reserveURL\",\"getReserveSeatURL\",\"redirectSite\",\"_this7\",\"serialSplit\",\"resultURL\",\"urlSplit\",\"finalSplit\",\"hour\",\"dateInfo\",\"Date\",\"toString\",\"timeInfo\",\"minute\",\"_this8\",\"vadilityURL\",\"selectSerialPath\",\"_this9\",\"startButtonColor\",\"startButtonText\",\"startButtonDisable\",\"settingNotification\",\"react_select_esm\",\"options\",\"id\",\"loopControlRef\",\"loopStatusRef\",\"buttonRef\",\"removeChild\",\"newStatus\",\"newText\",\"App\",\"condition\",\"obtainListPath\",\"obtainSeatInfoPath\",\"showIDQuery\",\"firstFloorName\",\"setValue\",\"field\",\"siteForRoomEnteringSerial\",\"HashRouter\",\"Switch\",\"Route\",\"exact\",\"path\",\"component\",\"render\",\"routerProps\",\"disclaimer_Disclaimer\",\"assign\",\"idCollection_ReaderIDCollection\",\"SeatSelection_SeatSelection\",\"SeatSelection_AutoSeatSelectionPage\",\"isLocalhost\",\"Boolean\",\"location\",\"hostname\",\"match\",\"registerValidSW\",\"swUrl\",\"navigator\",\"serviceWorker\",\"register\",\"registration\",\"onupdatefound\",\"installingWorker\",\"installing\",\"onstatechange\",\"controller\",\"catch\",\"error\",\"ReactDOM\",\"src_App_0\",\"URL\",\"process\",\"origin\",\"addEventListener\",\"concat\",\"status\",\"headers\",\"get\",\"indexOf\",\"ready\",\"unregister\",\"reload\",\"checkValidServiceWorker\",\"registerServiceWorker\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React, { Component } from 'react';\\n\\nimport {Redirect} from 'react-router-dom';\\n\\nexport class Main extends Component {\\n    constructor(props) {\\n        super(props);\\n\\n        this.state = {\\n            start: false\\n        }\\n    }\\n\\n    render() {\\n        if(this.state.start) {\\n            return <Redirect to=\\\"/disclaimer\\\"/>\\n        }\\n        return(\\n            <div className=\\\"main-page-container\\\">\\n                \\n                <div className=\\\"full-bloom main-title-item\\\">\\n                    <h1>长春市图书馆智能选座系统</h1> \\n                </div>\\n                \\n\\n                <div className=\\\"main-container\\\">\\n                    <div className=\\\"main-item full-bloom\\\"> \\n                        <h2 className=\\\"main-item-title\\\">快速抢座</h2>\\n                        <p>相对于传统的微信选座，本智能选座无反应时间，可以同时抢座，并根据长春市图书馆服务器的更新速度抢座，极大减小失手风险。</p>\\n                    </div>\\n\\n                    <div className=\\\"main-item full-bloom\\\"> \\n                        <h2 className=\\\"main-item-title\\\">智能抢座</h2>\\n                        <p>本系统可根据用户的倾向以及当前可以选择的座位进行参考，确保每位使用的用户选到目标座位</p>\\n                    </div>\\n\\n                    <div className=\\\"main-item full-bloom\\\"> \\n                        <h2 className=\\\"main-item-title\\\">自助抢座</h2>\\n                        <p>信不过你的设备？自主选座系统可让您提前进入抢座系统，先人一步获得座位。</p>\\n                    </div>\\n                </div>\\n\\n                <button className=\\\"button-item btn btn-primary main-button\\\" onClick={() => {\\n                    this.setState({\\n                        start: true\\n                    });\\n                }}>开始选座</button>\\n            </div>\\n        )\\n    }\\n}\",\"import React, { Component } from 'react';\\n\\nimport {Redirect} from 'react-router-dom';\\n\\nimport {FormGroup, Label, Input} from 'reactstrap';\\n\\nexport class Disclaimer extends Component {\\n    constructor(props) {\\n        super(props);\\n\\n        this.state = {\\n            agree: false,\\n            redirect: false,\\n            cancel: false\\n        }\\n    }\\n\\n    render() {\\n        if(this.state.cancel) {\\n            return(<Redirect to=\\\"/\\\"/>);\\n        }\\n        if(this.state.redirect) {\\n            return(<Redirect to=\\\"/id-collecter\\\"/>);\\n        }\\n        let color = \\\"danger\\\";\\n        let description = \\\"您需勾选“我已阅读免责声明”\\\"\\n        if(this.state.agree) {\\n            color = \\\"success\\\";\\n            description = \\\"进入智能选座系统\\\";\\n        }\\n        return(\\n            <div className=\\\"disclaimer-page-container full-bloom\\\">\\n                <div>\\n                    <h1>免责声明</h1>\\n                    \\n                    <ul className=\\\"disclaimer-list\\\"> \\n                        <li>您需要首先激活长春市图书馆微信抢座。</li>\\n                        <li>您需要开启您浏览器的<a href=\\\"https://en.wikipedia.org/wiki/Cross-origin_resource_sharing\\\" target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\">跨來源資源共享</a>功能。</li>\\n                        <li>此系统并不能100%确保您想要的座位。</li>\\n                        <li>此系统可能会根据抢座机制的改变而失效。</li>\\n                        <li>根据长春市图书馆规章制度，使用本系统时可能会承担读书卡被禁用的风险。</li>\\n                        <li>您需承担免责声明中的所有情况以及尚未提及的所有结果.</li>\\n                    </ul>\\n\\n                    <FormGroup check>\\n                        <Label check>\\n                            <Input type=\\\"checkbox\\\" onClick={() => {\\n                                this.setState({\\n                                    agree: !this.state.agree\\n                                })\\n                            }}/>\\n                            我已阅读免责声明。\\n                        </Label>\\n                    </FormGroup>\\n                </div>\\n\\n                <div className=\\\"disclaimer-button-panel cancel-button\\\" > \\n                    <button className=\\\"button-item btn btn-primary\\\" onClick={() => {\\n                        this.setState({\\n                            cancel: true\\n                        });\\n                    }}>取消</button>\\n\\n                    <button disabled={!this.state.agree} className={\\\"button-item btn btn-\\\" + color + \\\" confirm-button\\\"} onClick={() => {\\n                        this.props.setValueHandler(\\\"condition\\\", true);\\n                        this.setState({\\n                            redirect: true\\n                        })\\n                    }}>{description}</button>\\n                </div>\\n            </div>\\n        );\\n    }\\n}\",\"import React, { Component } from 'react';\\n\\nimport {Redirect} from 'react-router-dom';\\n\\nexport class ReaderIDCollection extends Component {\\n    constructor(props) {\\n        super(props);\\n        \\n        this.testURL = \\\"http://wx.jlcclib.com/wechat/obtainYlist?openId=of_\\\"\\n\\n        this.state = {\\n            valid: null,\\n            readerID: \\\"\\\",\\n            redirect: false\\n        }\\n    }\\n\\n    testVadility() {\\n        let fullURL = this.testURL + this.state.readerID;\\n        fetch(fullURL).then((response) => {\\n            return response.text();\\n        }).then((response) => {\\n            // split string by special character (multiple spaces, comma, semicolumn, tab)\\n            let splitString = response.split(/[\\\\s,;\\\\t\\\\n]+/);\\n            this.setState({\\n                valid: splitString.includes(\\\"openId\\\")\\n            });\\n        });\\n    }\\n\\n    handleChange(event) {\\n        let value = event.target.value;\\n        let fieid = event.target.name;\\n        let change = this.state;\\n        change[fieid] = value;\\n        this.setState(change);\\n    }\\n\\n    // we need clear button!\\n    render() {\\n        if(!this.props.agree) {\\n            return <Redirect to=\\\"/\\\" />\\n        }\\n        if(this.state.redirect) {\\n            return <Redirect to=\\\"/seat-selection\\\"/>\\n        }\\n        return(\\n            <div className=\\\"collection-page-container\\\">\\n                <div className=\\\"full-bloom\\\">\\n                    <div className=\\\"collection-page-title-panel\\\" >\\n                        <h1>读者序列号检测</h1>\\n\\n                        <button className=\\\"button-item btn btn-danger\\\" onClick={() => {\\n                            this.props.setValueHandler(\\\"condition\\\", false);\\n                        }} >取消</button>\\n                    </div>\\n                    <div> \\n                        {this.state.valid === false &&\\n                            <div className=\\\"alert alert-danger\\\">此读者序列号为无效序列号</div>\\n                        }\\n                        {this.state.valid === true &&\\n                            <div className=\\\"alert alert-success\\\">此读者序列号为有效序列号</div>\\n                        }\\n                        <div> \\n                            <input className=\\\"form-control\\\"\\n                                name=\\\"readerID\\\"\\n                                value={this.state.readerID}\\n                                onChange={(event) => {\\n                                    this.handleChange(event);\\n                                    this.setState({\\n                                        valid: null\\n                                    })\\n                                }}\\n                                placeholder=\\\"例如：G7jlCSEOE6r1oXLK2gp1_HlRg\\\"/>\\n                        </div>\\n                    </div>\\n                    \\n                    <div className=\\\"collection-page-button-panel\\\">\\n                        <button className=\\\"button-item btn btn-primary\\\" onClick={() => {\\n                            this.testVadility(this.state.readerID);\\n                        }}>检测读者序列号</button>\\n\\n                        <button className=\\\"button-item btn btn-success\\\" disabled={!this.state.valid}\\n                            onClick={() => {\\n                                this.props.setValueHandler(\\\"userID\\\", this.state.readerID);\\n                                this.setState({\\n                                    redirect: true\\n                                })\\n                            }}\\n                        >进入抢座系统</button>\\n                    </div>\\n                </div>\\n\\n                <div className=\\\"full-bloom open-id-wiki\\\">\\n                    <h2>何为读者序列号？</h2>\\n                    <p>此序列号是根据您的读书证号所自动产生的一组字符串，您可用该序列号来预约/离开座位。</p>\\n                </div>\\n\\n                <div className=\\\"full-bloom open-id-help\\\">\\n                    <h2>如何获取读者序列号？</h2>\\n                    <ul>\\n                        <li>首先在手机中进入您的自修室微信预约程序主菜单。</li>\\n                        <li>然后用任意浏览器打开该网站。</li>\\n                        <li>观察这个网址，您会发现在\\\"code=_of\\\"后有一组字符串。</li>\\n                        <li>将这个字符串复制，这就是您的读者序列号。</li>\\n                        <li>(在您更换读书证或更改微信绑定帐号时，需重新检查您的读者序列号。)</li>\\n                    </ul>\\n                </div>\\n            </div>\\n        );\\n    }\\n}\",\"import React, { Component } from 'react';\\nimport Select from 'react-select';\\nimport { HashRouter as Router, Route, Switch, Redirect} from 'react-router-dom';\\n\\n\\n// there are two ways for the user to select seats:\\n// 1: self-selection system\\n//      the user goes into the system before most of other competetors,\\n//      and then easily gets the desired seat.\\n\\n// 2: auto-selection system\\n//      this system will based on the user's preference to help selecting the seat\\n\\n// how to enter those systems:\\n// self-selection: once the user clicks the \\\"进入图书馆选座系统\\\" button, then the user can enter the seat selection page\\n// auto-selection system: the user first clicks the \\\"进入智能抢座系统\\\" button, then the user can enter the setting pages,\\n// then the system will select seats based on those preferences.\\n\\n\\nexport class SeatSelection extends Component {\\n    constructor(props) {\\n        super(props);\\n        \\n        // states:\\n        // redirectToAutoSelection: direct to the auto seat selection if it is true\\n        this.state = {\\n            redirectToAutoSelection: false,\\n            selfSeatSelectionStatus: null\\n        }\\n    }\\n    \\n    render() {\\n        if(!this.props.userID || !this.props.agree) {\\n            return <Redirect to=\\\"/\\\"/>\\n        }\\n\\n        if(this.state.redirectToAutoSelection) {\\n            return <Redirect to=\\\"/auto-selection\\\"/>\\n        }\\n        \\n        let selfSeatSelection = \\\"尚未进入座位预约网站\\\";\\n        let selfSelectionColor = \\\"bg-secondary text-white\\\";\\n\\n        if(this.state.selfSeatSelectionStatus === true) {\\n            selfSeatSelection = \\\"成功进入选座网站\\\";\\n            selfSelectionColor = \\\"bg-success text-white\\\";\\n        } else if(this.state.selfSeatSelectionStatus === false) {\\n            selfSeatSelection = \\\"读取失败\\\";\\n            selfSelectionColor = \\\"bg-success text-danger\\\";\\n        }\\n\\n        return(\\n            <div className=\\\"seat-selection-page-container\\\">\\n                <div className=\\\"full-bloom seat-selection-page-title-panel\\\" >\\n                    <h1>智能抢座系统。</h1>\\n                    <button className=\\\"button-item btn btn-danger\\\" onClick={() => {\\n                        this.props.setValueHandler(\\\"userID\\\", null);\\n                        this.props.setValueHandler(\\\"condition\\\", false);\\n                    }}>退出</button>\\n                </div>\\n\\n                <div className=\\\"selection-page-options-panel\\\"> \\n                    <div className=\\\"full-bloom option-item\\\">\\n                        <strong>本选项可让您进入自修室座位阅览网址，允许您先人一步获取想要的座位。</strong>\\n                        <ul className=\\\"warning-list\\\">请注意\\n                            <li>尽管您可以提前进入座位阅览网址，第二日的座位预约的开放时间大约在晚上8点30分10秒到20秒左右。</li>\\n                            <li>若您长时间未在微信上登陆（一周），您需在手机上先登陆方可有效。</li>\\n                            <li>若您只选到了当天的座位，10秒左右座位会被清空。</li>\\n                            <li>若座位阅览网址上显示“系统暂时无法受理，请重新尝试”的话，请刷新网页直到出现座位，但继续刷新会使当前网址失效。</li>\\n                        </ul>\\n\\n                        <div className=\\\"self-selection-panel\\\" >\\n                            <button className=\\\"button-item btn btn-primary\\\" onClick={() => {\\n                                this.props.getRoomEnterSerial((serial) => {\\n                                    if(serial) {\\n                                        let seatViewURL = this.props.anatomy.domain + \\\"/\\\" + this.props.anatomy.selectJSPPath + \\\"?\\\" + this.props.anatomy.serialQuery\\n                                                            + serial + \\\"&\\\" + this.props.anatomy.openIDQuery + this.props.userID + \\\"&\\\" + this.props.anatomy.roomNameQuery +\\n                                                            this.props.anatomy.roomNameUnknown + \\\"&\\\" + this.props.anatomy.yuelanshiIDQuery + this.props.anatomy.firstFloorRoomID;\\n                                        window.open(seatViewURL, '_blank');\\n                                        this.setState({\\n                                            selfSeatSelectionStatus: true\\n                                        })\\n                                    } else {\\n                                        this.setState({\\n                                            selfSeatSelectionStatus: false\\n                                        })\\n                                    }\\n                                });    \\n                            }}>开始自助选座</button>\\n                            <div className={selfSelectionColor + \\\" seat-self-selection-status\\\"}>{\\\"状态：\\\" + selfSeatSelection}</div>\\n                        </div>\\n                    </div>\\n\\n                    <div className=\\\"full-bloom option-item\\\">\\n                        <div> \\n                            <strong>本选项可根据您的座位倾向，使本系统为您选择座位。</strong>\\n                            <ul className=\\\"warning-list\\\">请注意 \\n                                <li>若您长时间未在微信上登陆（一周），您需在手机上先登陆方可有效。</li>\\n                                <li>抢座系统有抢不到座位的风险，使用时须谨慎。</li>\\n                            </ul>\\n                        </div> \\n                        <button className=\\\"button-item btn btn-primary\\\" onClick={() => {\\n                            this.setState({\\n                                redirectToAutoSelection: true\\n                            })\\n                        }}>自动选座系统</button>\\n                    </div>\\n                </div>\\n            </div>\\n        );\\n    }\\n}\\n\\n\\n// test: K7jqkljf7t_mngoLy9edHTQq4\\n\\n// test2: K7jlCSEOE8r1oXHL2gp1_HlRg\\nexport class AutoSeatSelectionPage extends Component {\\n    constructor(props) {\\n        super(props);\\n        this.state = {\\n            back: false,\\n            firstPreference: {label: \\\"无\\\", value: \\\"\\\"},\\n            secondPreference: {label: \\\"无\\\", value: \\\"\\\"},\\n            thirdPreference: {label: \\\"停止抢座\\\", value: \\\"\\\"},\\n            automationStart: false,\\n\\n            isSuccess: false,\\n            failReason: null\\n        }\\n\\n        this.seatOptions = [{label: \\\"无\\\", value: \\\"\\\"}];\\n        for(let i = 1; i <= 208; i++) {\\n            let label = i + \\\" (\\\"\\n            if(this.isSingle(i)) {\\n                label += \\\"单座\\\" + \\\")\\\"\\n            } else {\\n                label += \\\"双座\\\" + \\\")\\\"\\n            }\\n            this.seatOptions.push(\\n                {label: label, value: i}\\n            );\\n        }\\n\\n        this.seatOptionsRange = [{label: \\\"无\\\", value: \\\"\\\"}];\\n        for(let i = 1; i <= 20; i++) {\\n            let start = (i - 1) * 10 + 1;\\n            let end = i * 10;\\n            this.seatOptionsRange.push({\\n                label: start + \\\" ~ \\\" + end,\\n                value: {start: start, end: end}\\n            });\\n        }\\n\\n        this.monthConverter = {\\n            Jan: \\\"01\\\", Feb: \\\"02\\\", Mar: \\\"03\\\",\\n            Apr: \\\"04\\\", May: \\\"05\\\", Jun: \\\"06\\\",\\n            Jul: \\\"07\\\", Aug: \\\"08\\\", Sep: \\\"09\\\",\\n            Oct: \\\"10\\\", Nov: \\\"11\\\", Dec: \\\"12\\\"\\n        }\\n\\n        this.seatPriority = null;\\n        this.pause = false;\\n        this.firstPause = false;\\n        this.firstStart = false;\\n\\n        this.seatOptionsRange.push({label: 201 + \\\" ~ \\\" + 208, value: {start: 201, end: 208}});\\n        \\n        this.searchSeatAndReserveLoop = this.searchSeatAndReserveLoop.bind(this);\\n        this.checkVadility = this.checkVadility.bind(this);\\n        this.leaveSeat = this.leaveSeat.bind(this);\\n\\n        this.firstLog = null;\\n    }\\n\\n    // test: K7jlCSEOE8r1oXHL2gp1_HlRg\\n    componentDidUpdate(prevState) {\\n        if(this.state.automationStart && (this.state.automationStart !== prevState.automationStart)) {\\n            this.creatLogPiece(this.getCurrntTime() + \\\" --- 开始预约\\\");\\n            let currentTime = this.getCurrentHourAndMinute();\\n            if(/*currentTime.hour >= 20 && currentTime.minute >= 20*/ true) {\\n                this.searchSeatAndReserveLoop();\\n            } else {\\n                this.creatLogPiece(this.getCurrntTime() + \\\" --- 当前时间不能进行预约座位\\\");\\n                this.creatLogPiece(this.getCurrntTime() + \\\" --- 请于20点20分后打开该程序\\\");\\n                this.creatLogPiece(\\\"请点击终止预约按钮\\\");\\n            }\\n        }\\n    }\\n\\n    reservePiece(targetSeat, priority) {\\n        this.creatLogPiece(this.getCurrntTime() + \\\" --- 找到目标\\\");\\n        this.creatLogPiece(this.getCurrntTime() + \\\" --- 开始预约第\\\" + targetSeat + \\\"号座位 （第\\\" + priority + \\\"目标）\\\");\\n        this.reserveSeat(targetSeat, (response) => {\\n            this.getReserveResult(response, (response) => {\\n                let judgement = this.judgeReserveResult(response);\\n                if(!judgement.isReserveSuccess) {\\n                    this.creatLogPiece(this.getCurrntTime() + \\\" --- 因为\\\" + judgement.reason + \\\", 预约失败\\\");\\n                    if(judgement.reason !== \\\"仅预约当天座位\\\") {\\n                        if(this.state.automationStart) {\\n                            this.searchSeatAndReserveLoop();\\n                        }\\n                    } else {\\n                        this.creatLogPiece(this.getCurrntTime() + \\\" --- 开始离开座位\\\");\\n                        this.leaveSeat(() => this.searchSeatAndReserveLoop());\\n                    }\\n                } else {\\n                    this.creatLogPiece(this.getCurrntTime() + \\\" --- 成功预约第二天座位\\\");\\n                    if(priority === 1) {\\n                        this.creatLogPiece(this.getCurrntTime() + \\\" --- 第1目标完成，任务结束\\\");\\n                        this.creatLogPiece(\\\"请点击终止预约按钮\\\");\\n                    } else {\\n                        this.creatLogPiece(this.getCurrntTime() + \\\" --- 第\\\" + priority + \\\"目标完成，继续抢座\\\");\\n                        this.seatPriority = priority;\\n                        this.searchSeatAndReserveLoop();\\n                    }\\n                }\\n            });\\n        })\\n    }\\n\\n    // test REAL! : K7jkgpyHxQQISesAWzGx53DfU\\n    searchSeatAndReserveLoop() {\\n        if(this.pause) {\\n            console.log(\\\"paused\\\");\\n            setTimeout(() => {\\n                if(this.firstPause) {\\n                    this.creatLogPiece(this.getCurrntTime() + \\\" --- 开始停止自动预约系统\\\");\\n                    this.creatLogPiece(this.getCurrntTime() + \\\" ---------------------\\\");\\n                    this.creatLogPiece(this.getCurrntTime() + \\\" --- 暂停成功\\\");\\n                    this.firstPause = false;\\n                    setTimeout(() => {\\n                        this.searchSeatAndReserveLoop();\\n                    });\\n                }\\n                if(!this.firstStart) {\\n                    this.creatLogPiece(this.getCurrntTime() + \\\" --- 暂停中\\\");\\n                }\\n                this.searchSeatAndReserveLoop();\\n            }, 3000);\\n        } else {\\n            if(this.firstStart) {\\n                this.firstStart = false;\\n                this.creatLogPiece(this.getCurrntTime() + \\\" ---------------------\\\");\\n                this.creatLogPiece(this.getCurrntTime() + \\\" --- 重新开始自动预约系统\\\");\\n            }\\n            this.creatLogPiece(this.getCurrntTime() + \\\" --- 开始搜索座位\\\");\\n            this.props.getRoomEnterSerial((serial) => {\\n                if(!serial) {\\n                    this.showMachenismError();\\n                } else {\\n                    this.findAllPossibleSeats(serial, (possibleSeats) => {\\n                        let targetSeat = null;\\n                        let priority = null;\\n                        if(this.state.firstPreference.value !== \\\"\\\") {\\n                            if(possibleSeats.includes(this.state.firstPreference.value)) {\\n                                targetSeat = this.state.firstPreference.value;\\n                                priority = 1;\\n                            }\\n                        }\\n                        if(targetSeat === null && this.state.secondPreference.value !== \\\"\\\") {\\n                            for(let start = this.state.secondPreference.value.start; \\n                                    start <= this.state.secondPreference.value.end; start++) {\\n                                if(possibleSeats.includes(start)) {\\n                                    targetSeat = start;\\n                                    priority = 2;\\n                                }\\n                            }\\n                        }\\n                        if(targetSeat === null && this.state.thirdPreference.value !== \\\"\\\") {\\n                            if(this.state.thirdPreference.value === \\\"single\\\") {\\n                                possibleSeats.forEach((seat) => {\\n                                    if(this.isSingle(seat)) {\\n                                        console.log(\\\"call\\\");\\n                                        targetSeat = seat;\\n                                        priority = 3;\\n                                    }\\n                                });\\n                            } else if (this.state.thirdPreference.value === \\\"double\\\") {\\n                                possibleSeats.forEach((seat) => {\\n                                    if(!this.isSingle(seat)) {\\n                                        targetSeat = seat;\\n                                        priority = 3;\\n                                    }\\n                                });\\n                            } else {\\n                                if(possibleSeats.length > 0) {\\n                                    targetSeat = possibleSeats[0];\\n                                    priority = 3;\\n                                }\\n                            }\\n                        }\\n                        console.log(\\\"target : \\\" + targetSeat);\\n                        console.log(\\\"priority : \\\" + priority);\\n                        if(targetSeat && (this.seatPriority === null || priority < this.seatPriority)) {\\n                            if(this.seatPriority && priority < this.seatPriority) {\\n                                this.seatPriority = null;\\n                                this.leaveSeat(() => {\\n                                    this.reservePiece(targetSeat, priority);\\n                                });\\n                            } else {\\n                                this.reservePiece(targetSeat, priority);\\n                            }\\n                        } else {\\n                            this.creatLogPiece(this.getCurrntTime() + \\\" --- 尚未出现目标座位\\\");\\n                            if(this.state.thirdPreference.value === \\\"\\\") {\\n                                this.creatLogPiece(this.getCurrntTime() + \\\" --- 因为失去目标，本系统停止预约座位\\\");\\n                                this.creatLogPiece(\\\"请点击终止预约按钮\\\");\\n                            } else {\\n                                if(this.checkBefore21PM() && this.state.automationStart) {\\n                                    this.creatLogPiece(this.getCurrntTime() + \\\" --- 重新开始搜索座位\\\");\\n                                    this.searchSeatAndReserveLoop();\\n                                }\\n                            }\\n                        }\\n                    });\\n                    \\n                }\\n            });\\n        }\\n    }\\n\\n    leaveSeat(callback) {\\n        let leaveURL = this.props.anatomy.domain + \\\"/\\\" + this.props.anatomy.leavePath \\n                        + \\\"?\\\" + this.props.anatomy.openIDQuery + this.props.userID;\\n        fetch(leaveURL).then((response) => {\\n            return response.text();\\n        }).then((response) => {\\n            if(response.includes(\\\"取消预定！\\\") || response.includes(\\\"阅览室：无信息！\\\")) {\\n                this.creatLogPiece(this.getCurrntTime() + \\\" --- 离开座位成功\\\");\\n                if(this.state.automationStart) {\\n                    callback();\\n                }\\n            } else {\\n                this.creatLogPiece(this.getCurrntTime() + \\\" --- 离开座位失败\\\");\\n                this.creatLogPiece(this.getCurrntTime() + \\\" --- 重新尝试离开座位\\\");\\n                this.leaveSeat(callback);\\n            }\\n        });\\n    }\\n\\n\\n    findAllPossibleSeats(serial, callback) {\\n        fetch(this.getSeatViewURL(serial)).then((response) => {\\n            return response.text();\\n        }).then((response) => {\\n            let splitByLine = response.split(\\\"\\\\n\\\");\\n            let possibleSeats = [];\\n            splitByLine.forEach((line) => {\\n                if(line.includes(\\\"onclick=\\\\\\\"dianji(\\\")) {\\n                    let lineSplit = line.split(\\\">\\\");\\n                    if(lineSplit[1]) {\\n                        let secondSplit = lineSplit[1].split(\\\"<\\\");\\n                        if(secondSplit[0]) {                    \\n                            possibleSeats.push(parseInt(secondSplit[0], 10));\\n                        }\\n                    }\\n                }\\n            });\\n            console.log(possibleSeats);\\n            callback(possibleSeats);\\n        });\\n    }\\n\\n    judgeReserveResult(result) {\\n        if(result.includes(\\\"您的位置在\\\")) {\\n            return ({\\n                isReserveSuccess: false,\\n                reason: \\\"当天座位尚未解除\\\"\\n            })\\n        } else if(result.includes(\\\"终端机刷卡\\\")) {\\n            let today = this.getCurrntTime().split(\\\" \\\")[0];\\n            console.log(today);\\n            if(result.includes(today)) {\\n                return({\\n                    isReserveSuccess: false,\\n                    reason: \\\"仅预约当天座位\\\"\\n                });\\n            } else {\\n                return({\\n                    isReserveSuccess: true,\\n                    reason: \\\"成功预约第二天座位\\\"\\n                })\\n            }\\n        } else if(result.includes(\\\"排队\\\")) {\\n            return({\\n                isReserveSuccess: false,\\n                reason: \\\"正在预约其他座位\\\"\\n            });\\n        } else if(result.includes(\\\"该座位已经被预约\\\")) {\\n            return({\\n                isReserveSuccess: false,\\n                reason: \\\"该座位已经被他人预约\\\"\\n            });\\n        } else if(result.includes(\\\"已预约\\\" /*not sure*/)) {\\n            return({\\n                isReserveSuccess: false,\\n                reason: \\\"您已经成功预约座位\\\"\\n            })\\n        } else {\\n            this.showMachenismError();\\n            return(null);\\n        }\\n    }\\n\\n    creatLogPiece(text) {\\n        let logRef = document.getElementById(\\\"reservation-log\\\");\\n        if(logRef) {\\n            let logPiece = document.createElement('li');\\n            let textNode = document.createTextNode(text);\\n            logPiece.appendChild(textNode);\\n            if(!this.firstLog) {\\n                logRef.appendChild(logPiece);\\n            } else {\\n                logRef.insertBefore(logPiece, this.firstLog);\\n            }\\n            this.firstLog = logPiece;\\n        }\\n    }\\n\\n    getReserveSeatURL(seatNum) {\\n        return this.props.anatomy.domain + \\\"/\\\" + this.props.anatomy.reservePath + \\\"?\\\"\\n                    + this.props.anatomy.roomIDQuery + this.props.anatomy.firstFloorRoomID + \\\"&\\\" \\n                    + this.props.anatomy.openIDQuery + this.props.userID + \\\"&\\\" \\n                    + this.props.anatomy.seatNumQuery + seatNum;\\n    }\\n\\n    getSeatViewURL(serial) {\\n        return this.props.anatomy.domain + \\\"/\\\" + this.props.anatomy.selectJSPPath + \\\"?\\\" + this.props.anatomy.serialQuery\\n                    + serial + \\\"&\\\" + this.props.anatomy.openIDQuery + this.props.userID + \\\"&\\\" + this.props.anatomy.roomNameQuery +\\n                    this.props.anatomy.roomNameUnknown + \\\"&\\\" + this.props.anatomy.yuelanshiIDQuery + this.props.anatomy.firstFloorRoomID;\\n    }\\n\\n    isSingle(number) {\\n        return (number >= 89 && number <= 110) || (number >= 191 && number <= 208);\\n    }\\n\\n    // this piece will reserve the seat of first preference and then pass the result URL into callback function\\n    reserveSeat(seatNum, callback) {\\n        let reserveURL = this.getReserveSeatURL(seatNum);\\n        console.log(reserveURL);\\n        fetch(reserveURL).then((response) => {\\n            return response.text();\\n        }).then((response) => {\\n            console.log(response);\\n            callback(response);\\n        });\\n    }\\n\\n    // this piece will process the result and then pass the result into next function\\n    getReserveResult(redirectSite, callback) {\\n        let serialSplit = redirectSite.split(\\\"serialNo=\\\");\\n        if(serialSplit[1]) {\\n            this.checkVadility(serialSplit[1], () => {\\n                let resultURL = this.props.anatomy.domain + \\\"/\\\" + this.props.anatomy.selectJSPPath + \\\"?\\\" \\n                                    + this.props.anatomy.serialQuery + serialSplit[1];\\n                fetch(resultURL).then((response) => {\\n                    return response.text();\\n                }).then((response) => {\\n                    // result page\\n                    let urlSplit = response.split(\\\"<a href=\\\\\\\"\\\\\\\" class=\\\\\\\"\\\\\\\" \\\");\\n                    if(urlSplit[1]) {\\n                        let nextSplit = urlSplit[1];\\n                        let secondSplit = nextSplit.split(\\\"</a>\\\");\\n                        if(secondSplit[0]) {\\n                            let finalSplit = secondSplit[0].split(\\\">\\\");\\n                            if(finalSplit[1]) {\\n                                let result = finalSplit[1];\\n                                console.log(result);\\n                                callback(result);\\n                            } else {\\n                                this.showMachenismError();\\n                            }\\n                        } else {\\n                            this.showMachenismError();\\n                        }\\n                    } else {\\n                        this.showMachenismError();\\n                    }\\n                }); \\n            });\\n        } else {\\n            this.showMachenismError();\\n        }\\n    }\\n\\n    showMachenismError() {\\n        this.creatLogPiece(\\\"因预约座位机制改变，本系统已经失效\\\");\\n        this.creatLogPiece(\\\"请点击终止预约按钮\\\");\\n    }\\n\\n    checkBefore21PM() {\\n        let timeInfo = this.getCurrentHourAndMinute()\\n        if(timeInfo.hour < 21) {\\n            return true;\\n        } else {\\n            this.creatLogPiece(\\\"因已经过21点，继续预约已无意义，因此停止预约。\\\");\\n            this.creatLogPiece(\\\"请点击取消按钮\\\");\\n            return false;\\n        }\\n    }\\n\\n\\n    // this will return the current time as following format (all in numbers):\\n    // \\\"full year/month/day hour/minute/second\\\" \\n    getCurrntTime() {\\n        let now = new Date();\\n        let nowToString = now.toString();\\n        let dateInfo = nowToString.split(\\\" \\\");\\n\\n        let currentTime = dateInfo[3] + \\\"-\\\" + this.monthConverter[dateInfo[1]] + \\\"-\\\" + dateInfo[2]\\n                            + \\\" \\\" + dateInfo[4]\\n\\n        return currentTime;\\n    }\\n\\n    getCurrentHourAndMinute() {\\n        let now = new Date();\\n        let nowToString = now.toString();\\n        let dateInfo = nowToString.split(\\\" \\\");\\n        let timeInfo = dateInfo[4].split(\\\":\\\");\\n        return({hour: timeInfo[0], minute: timeInfo[1]});\\n    }\\n\\n    checkVadility(serial, callback) {\\n        let vadilityURL = this.props.anatomy.domain + \\\"/\\\" + this.props.anatomy.selectSerialPath + \\\"?\\\" \\n                            + this.props.anatomy.serialQuery + serial;\\n        fetch(vadilityURL).then((response) => {\\n            return response.text()\\n        }).then((response) => {\\n            console.log(response);\\n            if(response === \\\"no\\\") {\\n                this.checkVadility(serial, callback);\\n            } else {\\n                callback();\\n            }\\n        })\\n    }\\n\\n\\n\\n    // Setting part\\n    // first: the most desired seat (only 1)\\n    // preference: single or double\\n    // if all impossible: random get seats or stop loop\\n\\n    // way of seat selection\\n    // no count registration: register by preference, once find invalid, then quit\\n    // count registration: register by preference, once reserved, then if the upper are failed\\n    // then try those seats\\n\\n\\n\\n    // Status part\\n    render() {\\n        if(!this.props.userID || !this.props.agree) {\\n            return <Redirect to=\\\"/\\\"/>\\n        }\\n\\n        if(this.state.back) {\\n            return <Redirect to=\\\"/seat-selection\\\" />\\n        }\\n\\n        let startButtonColor = \\\"button-item btn btn-primary\\\";\\n        let startButtonText = \\\"请选择您想要的座位\\\"\\n        let startButtonDisable = this.state.firstPreference.value === \\\"\\\" && \\n                                 this.state.secondPreference.value === \\\"\\\" && \\n                                 this.state.thirdPreference.value === \\\"\\\";\\n        let settingNotification = \\\"设定\\\";\\n        if(this.state.automationStart) {\\n            settingNotification = \\\"\\\";\\n        }\\n\\n        if(!startButtonDisable) {\\n            startButtonColor = \\\"button-item btn btn-success\\\";\\n            startButtonText = \\\"开始抢座\\\";\\n        }\\n        return(\\n            <div className=\\\"auto-selection-page\\\"> \\n                <div className=\\\"full-bloom\\\" > \\n                    <h1>{\\\"自动选座设定\\\" + settingNotification}</h1>\\n\\n                    <button className=\\\"button-item btn btn-danger\\\" onClick={() => {\\n                        this.setState({\\n                            back: true,\\n                            automationStart: false\\n                        })\\n                        this.pause = false;\\n                        this.firstPause = false;\\n                        this.firstStart = false;\\n                    }}>返回</button>\\n                </div>\\n                {!this.state.automationStart &&\\n                    <div className=\\\"full-bloom automation-middle-part\\\" > \\n                        <div className=\\\"auto-option-item\\\" > \\n                            <h2>请选择您最想要的一个座位</h2>\\n                            <Select name=\\\"firstPreference\\\"\\n                                options={this.seatOptions}\\n                                value={this.state.firstPreference}\\n                                onChange={(event) => {\\n                                    this.setState({\\n                                        firstPreference: event\\n                                    })\\n                                }}\\n                            />\\n                        </div>\\n\\n                        <div className=\\\"auto-option-item\\\"> \\n                            <h2>其次，请选择您可以接受的座位范围</h2>\\n                                <Select name=\\\"secondPreference\\\"\\n                                    options={this.seatOptionsRange}\\n                                    value={this.state.secondPreference}\\n                                    onChange={(event) => {\\n                                        this.setState({\\n                                            secondPreference: event\\n                                        })\\n                                    }}\\n                            />\\n                        </div>\\n\\n                        <div className=\\\"auto-option-item\\\"> \\n                            <h2>若上述座位均无法获得，请选择可接受的座位的类型</h2>\\n                                <Select name=\\\"thirdPreference\\\"\\n                                    options={[\\n                                        {label: \\\"停止抢座\\\", value: \\\"\\\"},\\n                                        {label: \\\"任意座位\\\", value: \\\"any\\\"},\\n                                        {label: \\\"任意单座\\\", value: \\\"single\\\"},\\n                                        {label: \\\"任意双座\\\", value: \\\"double\\\"}\\n                                    ]}\\n                                    value={this.state.thirdPreference}\\n                                    onChange={(event) => {\\n                                        this.setState({\\n                                            thirdPreference: event\\n                                        })\\n                                    }}\\n                            />\\n                        </div>\\n                    </div>\\n                }\\n                {this.state.automationStart && \\n                    <div className=\\\"full-bloom\\\"> \\n                        <ul>当前指示：\\n                            <li>{\\\"首要目标-\\\" + this.state.firstPreference.label}</li>\\n                            <li>{\\\"次要目标-\\\" + this.state.secondPreference.label}</li>\\n                            <li>{\\\"座位类型倾向：\\\" + this.state.thirdPreference.label}</li>\\n                        </ul>\\n\\n                        <h2>预约状态目录：</h2>\\n                        <ul id=\\\"reservation-log\\\"></ul>\\n                    </div>\\n                }\\n                <div>\\n                    {!this.state.automationStart && \\n                        <button className={startButtonColor + \\\" auto-start-button\\\"} disabled={startButtonDisable} onClick={() => {\\n                            this.setState({\\n                                automationStart: true\\n                            })\\n                            this.pause = false;\\n                        }}>{startButtonText}</button>\\n                    }\\n                    {this.state.automationStart && \\n                        <div>\\n                             \\n                             <div id=\\\"loop-control-button\\\"> \\n                                 <div id=\\\"loop-control-status\\\">暂停</div>\\n                                 <button id=\\\"loop-button\\\"  className=\\\"button-item btn btn-primary\\\" onClick={() => {\\n                                    let loopControlRef = document.getElementById(\\\"loop-control-button\\\");\\n                                    let loopStatusRef = document.getElementById(\\\"loop-control-status\\\");\\n                                    let buttonRef = document.getElementById(\\\"loop-button\\\");\\n                                    if(!this.pause) {\\n                                        this.firstPause = true;\\n                                        this.pause = true;\\n                                        this.firstStart = false;\\n                                        loopControlRef.removeChild(loopStatusRef);\\n                                        let newStatus = document.createElement(\\\"div\\\");\\n                                        newStatus.id = \\\"loop-control-status\\\";\\n                                        let newText = document.createTextNode(\\\"开始\\\");\\n                                        newStatus.appendChild(newText);\\n                                        loopControlRef.insertBefore(newStatus, buttonRef);\\n                                        this.creatLogPiece(this.getCurrntTime() + \\\" --- 开始暂停自动预约系统\\\");\\n                                    } else {\\n                                        this.firstStart = true;\\n                                        this.firstPause = false;\\n                                        this.pause = false;\\n                                        loopControlRef.removeChild(loopStatusRef);\\n                                        let newStatus = document.createElement(\\\"div\\\");\\n                                        newStatus.id = \\\"loop-control-status\\\";\\n                                        let newText = document.createTextNode(\\\"暂停\\\");\\n                                        newStatus.appendChild(newText);\\n                                        loopControlRef.insertBefore(newStatus, buttonRef);\\n                                    }\\n                                 }} >点我</button>\\n                             </div>\\n                            \\n\\n                            <button className=\\\"button-item btn btn-danger auto-end-button\\\" onClick={() => {\\n                                this.setState({\\n                                    automationStart: false\\n                                })\\n                                this.pause = false;\\n                                this.firstPause = false;\\n                                this.firstStart = false;\\n                                this.firstLog = false;\\n                            }}>终止预约</button>\\n                        </div>\\n                    }\\n                </div>\\n            </div>\\n        );\\n    }\\n}\",\"import React, { Component } from 'react';\\n\\nimport './App.css';\\n\\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\\n\\nimport {Main} from './pages/main';\\nimport {Disclaimer} from './pages/disclaimer';\\nimport {ReaderIDCollection} from './pages/idCollection';\\nimport {SeatSelection} from './pages/SeatSelection';\\nimport {AutoSeatSelectionPage} from './pages/SeatSelection';\\n\\nclass App extends Component {\\n  constructor(props) {\\n    super(props);\\n    this.state = {\\n      condition: false,\\n      userID: null\\n    }\\n    \\n    this.anatomy = {\\n      domain: \\\"http://wx.jlcclib.com/wechat\\\",\\n\\n      obtainListPath: \\\"obtainYlist\\\",\\n      obtainSeatInfoPath: \\\"obtainAllSeatInfo\\\",\\n      selectSerialPath: \\\"selectSerialNo\\\",\\n      selectJSPPath: \\\"selectSerialNoToJsp\\\",\\n      reservePath: \\\"reserve\\\",\\n      leavePath: \\\"leave\\\",\\n\\n      roomIDQuery: \\\"id=\\\",\\n      roomNameQuery: \\\"name=\\\",\\n      openIDQuery: \\\"openId=of_\\\",\\n      serialQuery: \\\"serialNo=\\\",\\n      yuelanshiIDQuery: \\\"yuelanshiId=\\\",\\n      showIDQuery: \\\"id=\\\",\\n      seatNumQuery: \\\"seatno=\\\",\\n\\n      firstFloorRoomID: \\\"402881b14586df4a014586e28aae0000\\\",\\n      firstFloorName: \\\"一楼读者自修区\\\",\\n      roomNameUnknown: \\\"???????\\\"\\n    }\\n\\n    this.setValueHandler = this.setValue.bind(this);\\n\\n    this.getRoomEnterSerial = this.getRoomEnterSerial.bind(this);\\n  }\\n\\n  setValue(field, value) {\\n    let state = this.state;\\n    state[field] = value;\\n    this.setState(state);\\n  }\\n\\n  // test: K7jqkljf7t_mngoLy9edHTQq4\\n\\n  // this function will find the serial number for the page to see all seats\\n  // once the serve has registered this serial\\n  getRoomEnterSerial(callback) {\\n    if(this.state.userID) {\\n      let siteForRoomEnteringSerial = this.anatomy.domain + \\\"/\\\" + this.anatomy.obtainSeatInfoPath + \\\"?\\\" + this.anatomy.roomIDQuery \\n                                      + this.anatomy.firstFloorRoomID + \\\"&\\\" + this.anatomy.openIDQuery + this.state.userID + \\\"&\\\" \\n                                      + this.anatomy.roomNameQuery + this.anatomy.firstFloorName;\\n      fetch(siteForRoomEnteringSerial).then((response) => {\\n        return response.text();\\n      }).then((response) => {\\n        console.log(response);\\n        let serial = response.split(\\\"serialNo=\\\");\\n        if(serial[1]) {\\n          this.checkVadility(serial[1], callback);\\n        } else {\\n          callback(null);\\n        }\\n      });\\n    } else {\\n      callback(null);\\n    }\\n  }\\n\\n\\n  // three states\\n  checkVadility(serial, callback) {\\n    let vadilityURL = this.anatomy.domain + \\\"/\\\" + this.anatomy.selectSerialPath + \\\"?\\\" \\n                        + this.anatomy.serialQuery + serial;\\n    console.log(vadilityURL);\\n    fetch(vadilityURL).then((response) => {\\n        return response.text()\\n    }).then((response) => {\\n        console.log(response);\\n        if(response === \\\"no\\\") {\\n            this.checkVadility(serial, callback);\\n        } else {\\n            callback(serial);\\n        }\\n    })\\n  }\\n\\n  render() {\\n    return (\\n      <Router> \\n        <Switch>\\n          <Route exact path=\\\"/\\\" component={Main} />\\n          <Route path=\\\"/disclaimer\\\" render={(routerProps) => {\\n            return <Disclaimer {...routerProps} setValueHandler={this.setValueHandler}/>;\\n          }} />\\n          <Route path=\\\"/id-collecter\\\" render={(routerProps) => {\\n            return <ReaderIDCollection {...routerProps} setValueHandler={this.setValueHandler} agree={this.state.condition}/>;\\n          }} />\\n          <Route path=\\\"/seat-selection\\\" render={(routerProps) => {\\n            return <SeatSelection {...routerProps} setValueHandler={this.setValueHandler}  \\n                                    userID={this.state.userID} agree={this.state.condition}\\n                                    getRoomEnterSerial={this.getRoomEnterSerial} anatomy={this.anatomy}\\n            />;\\n          }} />\\n          <Route path= {\\\"/auto-selection\\\"} render={(routerProps) => {\\n            return <AutoSeatSelectionPage {...routerProps} \\n              userID={this.state.userID} setValueHandler={this.setValueHandler} agree={this.state.condition} \\n                      anatomy={this.anatomy} getRoomEnterSerial={this.getRoomEnterSerial}/>\\n          }}/>\\n        </Switch>\\n      </Router>\\n    );\\n  }\\n}\\n\\nexport default App;\\n\",\"// In production, we register a service worker to serve assets from local cache.\\n\\n// This lets the app load faster on subsequent visits in production, and gives\\n// it offline capabilities. However, it also means that developers (and users)\\n// will only see deployed updates on the \\\"N+1\\\" visit to a page, since previously\\n// cached resources are updated in the background.\\n\\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\\n// This link also includes instructions on opting out of this behavior.\\n\\nconst isLocalhost = Boolean(\\n  window.location.hostname === 'localhost' ||\\n    // [::1] is the IPv6 localhost address.\\n    window.location.hostname === '[::1]' ||\\n    // 127.0.0.1/8 is considered localhost for IPv4.\\n    window.location.hostname.match(\\n      /^127(?:\\\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\\n    )\\n);\\n\\nexport default function register() {\\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\\n    // The URL constructor is available in all browsers that support SW.\\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\\n    if (publicUrl.origin !== window.location.origin) {\\n      // Our service worker won't work if PUBLIC_URL is on a different origin\\n      // from what our page is served on. This might happen if a CDN is used to\\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\\n      return;\\n    }\\n\\n    window.addEventListener('load', () => {\\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\\n\\n      if (isLocalhost) {\\n        // This is running on localhost. Lets check if a service worker still exists or not.\\n        checkValidServiceWorker(swUrl);\\n\\n        // Add some additional logging to localhost, pointing developers to the\\n        // service worker/PWA documentation.\\n        navigator.serviceWorker.ready.then(() => {\\n          console.log(\\n            'This web app is being served cache-first by a service ' +\\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\\n          );\\n        });\\n      } else {\\n        // Is not local host. Just register service worker\\n        registerValidSW(swUrl);\\n      }\\n    });\\n  }\\n}\\n\\nfunction registerValidSW(swUrl) {\\n  navigator.serviceWorker\\n    .register(swUrl)\\n    .then(registration => {\\n      registration.onupdatefound = () => {\\n        const installingWorker = registration.installing;\\n        installingWorker.onstatechange = () => {\\n          if (installingWorker.state === 'installed') {\\n            if (navigator.serviceWorker.controller) {\\n              // At this point, the old content will have been purged and\\n              // the fresh content will have been added to the cache.\\n              // It's the perfect time to display a \\\"New content is\\n              // available; please refresh.\\\" message in your web app.\\n              console.log('New content is available; please refresh.');\\n            } else {\\n              // At this point, everything has been precached.\\n              // It's the perfect time to display a\\n              // \\\"Content is cached for offline use.\\\" message.\\n              console.log('Content is cached for offline use.');\\n            }\\n          }\\n        };\\n      };\\n    })\\n    .catch(error => {\\n      console.error('Error during service worker registration:', error);\\n    });\\n}\\n\\nfunction checkValidServiceWorker(swUrl) {\\n  // Check if the service worker can be found. If it can't reload the page.\\n  fetch(swUrl)\\n    .then(response => {\\n      // Ensure service worker exists, and that we really are getting a JS file.\\n      if (\\n        response.status === 404 ||\\n        response.headers.get('content-type').indexOf('javascript') === -1\\n      ) {\\n        // No service worker found. Probably a different app. Reload the page.\\n        navigator.serviceWorker.ready.then(registration => {\\n          registration.unregister().then(() => {\\n            window.location.reload();\\n          });\\n        });\\n      } else {\\n        // Service worker found. Proceed as normal.\\n        registerValidSW(swUrl);\\n      }\\n    })\\n    .catch(() => {\\n      console.log(\\n        'No internet connection found. App is running in offline mode.'\\n      );\\n    });\\n}\\n\\nexport function unregister() {\\n  if ('serviceWorker' in navigator) {\\n    navigator.serviceWorker.ready.then(registration => {\\n      registration.unregister();\\n    });\\n  }\\n}\\n\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport './index.css';\\nimport App from './App';\\nimport registerServiceWorker from './registerServiceWorker';\\n\\nimport 'bootstrap/dist/css/bootstrap.css';\\n\\n\\nReactDOM.render(<App />, document.getElementById('root'));\\nregisterServiceWorker();\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a(55)},40:function(e,t,a){},41:function(e,t,a){},55:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),i=a(13),o=a.n(i),s=(a(40),a(8)),l=a(9),c=a(11),u=a(10),m=a(6),h=a(12),d=(a(41),a(59)),f=a(62),p=a(61),v=a(60),g=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={start:!1},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:\"render\",value:function(){var e=this;return this.state.start?r.a.createElement(v.a,{to:\"/disclaimer\"}):r.a.createElement(\"div\",{className:\"main-page-container\"},r.a.createElement(\"div\",{className:\"full-bloom main-title-item\"},r.a.createElement(\"h1\",null,\"\\u957f\\u6625\\u5e02\\u56fe\\u4e66\\u9986\\u667a\\u80fd\\u9009\\u5ea7\\u7cfb\\u7edf\")),r.a.createElement(\"div\",{className:\"main-container\"},r.a.createElement(\"div\",{className:\"main-item full-bloom\"},r.a.createElement(\"h2\",{className:\"main-item-title\"},\"\\u5feb\\u901f\\u62a2\\u5ea7\"),r.a.createElement(\"p\",null,\"\\u76f8\\u5bf9\\u4e8e\\u4f20\\u7edf\\u7684\\u5fae\\u4fe1\\u9009\\u5ea7\\uff0c\\u672c\\u667a\\u80fd\\u9009\\u5ea7\\u65e0\\u53cd\\u5e94\\u65f6\\u95f4\\uff0c\\u53ef\\u4ee5\\u540c\\u65f6\\u62a2\\u5ea7\\uff0c\\u5e76\\u6839\\u636e\\u957f\\u6625\\u5e02\\u56fe\\u4e66\\u9986\\u670d\\u52a1\\u5668\\u7684\\u66f4\\u65b0\\u901f\\u5ea6\\u62a2\\u5ea7\\uff0c\\u6781\\u5927\\u51cf\\u5c0f\\u5931\\u624b\\u98ce\\u9669\\u3002\")),r.a.createElement(\"div\",{className:\"main-item full-bloom\"},r.a.createElement(\"h2\",{className:\"main-item-title\"},\"\\u667a\\u80fd\\u62a2\\u5ea7\"),r.a.createElement(\"p\",null,\"\\u672c\\u7cfb\\u7edf\\u53ef\\u6839\\u636e\\u7528\\u6237\\u7684\\u503e\\u5411\\u4ee5\\u53ca\\u5f53\\u524d\\u53ef\\u4ee5\\u9009\\u62e9\\u7684\\u5ea7\\u4f4d\\u8fdb\\u884c\\u53c2\\u8003\\uff0c\\u786e\\u4fdd\\u6bcf\\u4f4d\\u4f7f\\u7528\\u7684\\u7528\\u6237\\u9009\\u5230\\u76ee\\u6807\\u5ea7\\u4f4d\")),r.a.createElement(\"div\",{className:\"main-item full-bloom\"},r.a.createElement(\"h2\",{className:\"main-item-title\"},\"\\u81ea\\u52a9\\u62a2\\u5ea7\"),r.a.createElement(\"p\",null,\"\\u4fe1\\u4e0d\\u8fc7\\u4f60\\u7684\\u8bbe\\u5907\\uff1f\\u81ea\\u4e3b\\u9009\\u5ea7\\u7cfb\\u7edf\\u53ef\\u8ba9\\u60a8\\u63d0\\u524d\\u8fdb\\u5165\\u62a2\\u5ea7\\u7cfb\\u7edf\\uff0c\\u5148\\u4eba\\u4e00\\u6b65\\u83b7\\u5f97\\u5ea7\\u4f4d\\u3002\"))),r.a.createElement(\"button\",{className:\"button-item btn btn-primary main-button\",onClick:function(){e.setState({start:!0})}},\"\\u5f00\\u59cb\\u9009\\u5ea7\"))}}]),t}(n.Component),b=a(57),E=a(58),y=a(63),S=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={agree:!1,redirect:!1,cancel:!1},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:\"render\",value:function(){var e=this;if(this.state.cancel)return r.a.createElement(v.a,{to:\"/\"});if(this.state.redirect)return r.a.createElement(v.a,{to:\"/id-collecter\"});var t=\"danger\",a=\"\\u60a8\\u9700\\u52fe\\u9009\\u201c\\u6211\\u5df2\\u9605\\u8bfb\\u514d\\u8d23\\u58f0\\u660e\\u201d\";return this.state.agree&&(t=\"success\",a=\"\\u8fdb\\u5165\\u667a\\u80fd\\u9009\\u5ea7\\u7cfb\\u7edf\"),r.a.createElement(\"div\",{className:\"disclaimer-page-container full-bloom\"},r.a.createElement(\"div\",null,r.a.createElement(\"h1\",null,\"\\u514d\\u8d23\\u58f0\\u660e\"),r.a.createElement(\"ul\",{className:\"disclaimer-list\"},r.a.createElement(\"li\",null,\"\\u60a8\\u9700\\u8981\\u9996\\u5148\\u6fc0\\u6d3b\\u957f\\u6625\\u5e02\\u56fe\\u4e66\\u9986\\u5fae\\u4fe1\\u62a2\\u5ea7\\u3002\"),r.a.createElement(\"li\",null,\"\\u60a8\\u9700\\u8981\\u5f00\\u542f\\u60a8\\u6d4f\\u89c8\\u5668\\u7684\",r.a.createElement(\"a\",{href:\"https://en.wikipedia.org/wiki/Cross-origin_resource_sharing\",target:\"_blank\",rel:\"noopener noreferrer\"},\"\\u8de8\\u4f86\\u6e90\\u8cc7\\u6e90\\u5171\\u4eab\"),\"\\u529f\\u80fd\\u3002\"),r.a.createElement(\"li\",null,\"\\u6b64\\u7cfb\\u7edf\\u5e76\\u4e0d\\u80fd100%\\u786e\\u4fdd\\u60a8\\u60f3\\u8981\\u7684\\u5ea7\\u4f4d\\u3002\"),r.a.createElement(\"li\",null,\"\\u6b64\\u7cfb\\u7edf\\u53ef\\u80fd\\u4f1a\\u6839\\u636e\\u62a2\\u5ea7\\u673a\\u5236\\u7684\\u6539\\u53d8\\u800c\\u5931\\u6548\\u3002\"),r.a.createElement(\"li\",null,\"\\u6839\\u636e\\u957f\\u6625\\u5e02\\u56fe\\u4e66\\u9986\\u89c4\\u7ae0\\u5236\\u5ea6\\uff0c\\u4f7f\\u7528\\u672c\\u7cfb\\u7edf\\u65f6\\u53ef\\u80fd\\u4f1a\\u627f\\u62c5\\u8bfb\\u4e66\\u5361\\u88ab\\u7981\\u7528\\u7684\\u98ce\\u9669\\u3002\"),r.a.createElement(\"li\",null,\"\\u60a8\\u9700\\u627f\\u62c5\\u514d\\u8d23\\u58f0\\u660e\\u4e2d\\u7684\\u6240\\u6709\\u60c5\\u51b5\\u4ee5\\u53ca\\u5c1a\\u672a\\u63d0\\u53ca\\u7684\\u6240\\u6709\\u7ed3\\u679c.\")),r.a.createElement(b.a,{check:!0},r.a.createElement(E.a,{check:!0},r.a.createElement(y.a,{type:\"checkbox\",onClick:function(){e.setState({agree:!e.state.agree})}}),\"\\u6211\\u5df2\\u9605\\u8bfb\\u514d\\u8d23\\u58f0\\u660e\\u3002\"))),r.a.createElement(\"div\",{className:\"disclaimer-button-panel cancel-button\"},r.a.createElement(\"button\",{className:\"button-item btn btn-primary\",onClick:function(){e.setState({cancel:!0})}},\"\\u53d6\\u6d88\"),r.a.createElement(\"button\",{disabled:!this.state.agree,className:\"button-item btn btn-\"+t+\" confirm-button\",onClick:function(){e.props.setValueHandler(\"condition\",!0),e.setState({redirect:!0})}},a)))}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).testURL=\"http://wx.jlcclib.com/wechat/obtainYlist?openId=of_\",a.state={valid:null,readerID:\"\",redirect:!1},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:\"testVadility\",value:function(){var e=this,t=this.testURL+this.state.readerID;fetch(t).then(function(e){return e.text()}).then(function(t){var a=t.split(/[\\s,;\\t\\n]+/);e.setState({valid:a.includes(\"openId\")})})}},{key:\"handleChange\",value:function(e){var t=e.target.value,a=e.target.name,n=this.state;n[a]=t,this.setState(n)}},{key:\"render\",value:function(){var e=this;return this.props.agree?this.state.redirect?r.a.createElement(v.a,{to:\"/seat-selection\"}):r.a.createElement(\"div\",{className:\"collection-page-container\"},r.a.createElement(\"div\",{className:\"full-bloom\"},r.a.createElement(\"div\",{className:\"collection-page-title-panel\"},r.a.createElement(\"h1\",null,\"\\u8bfb\\u8005\\u5e8f\\u5217\\u53f7\\u68c0\\u6d4b\"),r.a.createElement(\"button\",{className:\"button-item btn btn-danger\",onClick:function(){e.props.setValueHandler(\"condition\",!1)}},\"\\u53d6\\u6d88\")),r.a.createElement(\"div\",null,!1===this.state.valid&&r.a.createElement(\"div\",{className:\"alert alert-danger\"},\"\\u6b64\\u8bfb\\u8005\\u5e8f\\u5217\\u53f7\\u4e3a\\u65e0\\u6548\\u5e8f\\u5217\\u53f7\"),!0===this.state.valid&&r.a.createElement(\"div\",{className:\"alert alert-success\"},\"\\u6b64\\u8bfb\\u8005\\u5e8f\\u5217\\u53f7\\u4e3a\\u6709\\u6548\\u5e8f\\u5217\\u53f7\"),r.a.createElement(\"div\",null,r.a.createElement(\"input\",{className:\"form-control\",name:\"readerID\",value:this.state.readerID,onChange:function(t){e.handleChange(t),e.setState({valid:null})},placeholder:\"\\u4f8b\\u5982\\uff1aG7jlCSEOE6r1oXLK2gp1_HlRg\"}))),r.a.createElement(\"div\",{className:\"collection-page-button-panel\"},r.a.createElement(\"button\",{className:\"button-item btn btn-primary\",onClick:function(){e.testVadility(e.state.readerID)}},\"\\u68c0\\u6d4b\\u8bfb\\u8005\\u5e8f\\u5217\\u53f7\"),r.a.createElement(\"button\",{className:\"button-item btn btn-success\",disabled:!this.state.valid,onClick:function(){e.props.setValueHandler(\"userID\",e.state.readerID),e.setState({redirect:!0})}},\"\\u8fdb\\u5165\\u62a2\\u5ea7\\u7cfb\\u7edf\"))),r.a.createElement(\"div\",{className:\"full-bloom open-id-wiki\"},r.a.createElement(\"h2\",null,\"\\u4f55\\u4e3a\\u8bfb\\u8005\\u5e8f\\u5217\\u53f7\\uff1f\"),r.a.createElement(\"p\",null,\"\\u6b64\\u5e8f\\u5217\\u53f7\\u662f\\u6839\\u636e\\u60a8\\u7684\\u8bfb\\u4e66\\u8bc1\\u53f7\\u6240\\u81ea\\u52a8\\u4ea7\\u751f\\u7684\\u4e00\\u7ec4\\u5b57\\u7b26\\u4e32\\uff0c\\u60a8\\u53ef\\u7528\\u8be5\\u5e8f\\u5217\\u53f7\\u6765\\u9884\\u7ea6/\\u79bb\\u5f00\\u5ea7\\u4f4d\\u3002\")),r.a.createElement(\"div\",{className:\"full-bloom open-id-help\"},r.a.createElement(\"h2\",null,\"\\u5982\\u4f55\\u83b7\\u53d6\\u8bfb\\u8005\\u5e8f\\u5217\\u53f7\\uff1f\"),r.a.createElement(\"ul\",null,r.a.createElement(\"li\",null,\"\\u9996\\u5148\\u5728\\u624b\\u673a\\u4e2d\\u8fdb\\u5165\\u60a8\\u7684\\u81ea\\u4fee\\u5ba4\\u5fae\\u4fe1\\u9884\\u7ea6\\u7a0b\\u5e8f\\u4e3b\\u83dc\\u5355\\u3002\"),r.a.createElement(\"li\",null,\"\\u7136\\u540e\\u7528\\u4efb\\u610f\\u6d4f\\u89c8\\u5668\\u6253\\u5f00\\u8be5\\u7f51\\u7ad9\\u3002\"),r.a.createElement(\"li\",null,'\\u89c2\\u5bdf\\u8fd9\\u4e2a\\u7f51\\u5740\\uff0c\\u60a8\\u4f1a\\u53d1\\u73b0\\u5728\"code=_of\"\\u540e\\u6709\\u4e00\\u7ec4\\u5b57\\u7b26\\u4e32\\u3002'),r.a.createElement(\"li\",null,\"\\u5c06\\u8fd9\\u4e2a\\u5b57\\u7b26\\u4e32\\u590d\\u5236\\uff0c\\u8fd9\\u5c31\\u662f\\u60a8\\u7684\\u8bfb\\u8005\\u5e8f\\u5217\\u53f7\\u3002\"),r.a.createElement(\"li\",null,\"(\\u5728\\u60a8\\u66f4\\u6362\\u8bfb\\u4e66\\u8bc1\\u6216\\u66f4\\u6539\\u5fae\\u4fe1\\u7ed1\\u5b9a\\u5e10\\u53f7\\u65f6\\uff0c\\u9700\\u91cd\\u65b0\\u68c0\\u67e5\\u60a8\\u7684\\u8bfb\\u8005\\u5e8f\\u5217\\u53f7\\u3002)\")))):r.a.createElement(v.a,{to:\"/\"})}}]),t}(n.Component),k=a(23),N=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={redirectToAutoSelection:!1,selfSeatSelectionStatus:null},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:\"render\",value:function(){var e=this;if(!this.props.userID||!this.props.agree)return r.a.createElement(v.a,{to:\"/\"});if(this.state.redirectToAutoSelection)return r.a.createElement(v.a,{to:\"/auto-selection\"});var t=\"\\u5c1a\\u672a\\u8fdb\\u5165\\u5ea7\\u4f4d\\u9884\\u7ea6\\u7f51\\u7ad9\",a=\"bg-secondary text-white\";return!0===this.state.selfSeatSelectionStatus?(t=\"\\u6210\\u529f\\u8fdb\\u5165\\u9009\\u5ea7\\u7f51\\u7ad9\",a=\"bg-success text-white\"):!1===this.state.selfSeatSelectionStatus&&(t=\"\\u8bfb\\u53d6\\u5931\\u8d25\",a=\"bg-success text-danger\"),r.a.createElement(\"div\",{className:\"seat-selection-page-container\"},r.a.createElement(\"div\",{className:\"full-bloom seat-selection-page-title-panel\"},r.a.createElement(\"h1\",null,\"\\u667a\\u80fd\\u62a2\\u5ea7\\u7cfb\\u7edf\\u3002\"),r.a.createElement(\"button\",{className:\"button-item btn btn-danger\",onClick:function(){e.props.setValueHandler(\"userID\",null),e.props.setValueHandler(\"condition\",!1)}},\"\\u9000\\u51fa\")),r.a.createElement(\"div\",{className:\"selection-page-options-panel\"},r.a.createElement(\"div\",{className:\"full-bloom option-item\"},r.a.createElement(\"strong\",null,\"\\u672c\\u9009\\u9879\\u53ef\\u8ba9\\u60a8\\u8fdb\\u5165\\u81ea\\u4fee\\u5ba4\\u5ea7\\u4f4d\\u9605\\u89c8\\u7f51\\u5740\\uff0c\\u5141\\u8bb8\\u60a8\\u5148\\u4eba\\u4e00\\u6b65\\u83b7\\u53d6\\u60f3\\u8981\\u7684\\u5ea7\\u4f4d\\u3002\"),r.a.createElement(\"ul\",{className:\"warning-list\"},\"\\u8bf7\\u6ce8\\u610f\",r.a.createElement(\"li\",null,\"\\u5c3d\\u7ba1\\u60a8\\u53ef\\u4ee5\\u63d0\\u524d\\u8fdb\\u5165\\u5ea7\\u4f4d\\u9605\\u89c8\\u7f51\\u5740\\uff0c\\u7b2c\\u4e8c\\u65e5\\u7684\\u5ea7\\u4f4d\\u9884\\u7ea6\\u7684\\u5f00\\u653e\\u65f6\\u95f4\\u5927\\u7ea6\\u5728\\u665a\\u4e0a8\\u70b930\\u520610\\u79d2\\u523020\\u79d2\\u5de6\\u53f3\\u3002\"),r.a.createElement(\"li\",null,\"\\u82e5\\u60a8\\u957f\\u65f6\\u95f4\\u672a\\u5728\\u5fae\\u4fe1\\u4e0a\\u767b\\u9646\\uff08\\u4e00\\u5468\\uff09\\uff0c\\u60a8\\u9700\\u5728\\u624b\\u673a\\u4e0a\\u5148\\u767b\\u9646\\u65b9\\u53ef\\u6709\\u6548\\u3002\"),r.a.createElement(\"li\",null,\"\\u82e5\\u60a8\\u53ea\\u9009\\u5230\\u4e86\\u5f53\\u5929\\u7684\\u5ea7\\u4f4d\\uff0c10\\u79d2\\u5de6\\u53f3\\u5ea7\\u4f4d\\u4f1a\\u88ab\\u6e05\\u7a7a\\u3002\"),r.a.createElement(\"li\",null,\"\\u82e5\\u5ea7\\u4f4d\\u9605\\u89c8\\u7f51\\u5740\\u4e0a\\u663e\\u793a\\u201c\\u7cfb\\u7edf\\u6682\\u65f6\\u65e0\\u6cd5\\u53d7\\u7406\\uff0c\\u8bf7\\u91cd\\u65b0\\u5c1d\\u8bd5\\u201d\\u7684\\u8bdd\\uff0c\\u8bf7\\u5237\\u65b0\\u7f51\\u9875\\u76f4\\u5230\\u51fa\\u73b0\\u5ea7\\u4f4d\\uff0c\\u4f46\\u7ee7\\u7eed\\u5237\\u65b0\\u4f1a\\u4f7f\\u5f53\\u524d\\u7f51\\u5740\\u5931\\u6548\\u3002\")),r.a.createElement(\"div\",{className:\"self-selection-panel\"},r.a.createElement(\"button\",{className:\"button-item btn btn-primary\",onClick:function(){e.props.getRoomEnterSerial(function(t){if(t){var a=e.props.anatomy.domain+\"/\"+e.props.anatomy.selectJSPPath+\"?\"+e.props.anatomy.serialQuery+t+\"&\"+e.props.anatomy.openIDQuery+e.props.userID+\"&\"+e.props.anatomy.roomNameQuery+e.props.anatomy.roomNameUnknown+\"&\"+e.props.anatomy.yuelanshiIDQuery+e.props.anatomy.firstFloorRoomID;window.open(a,\"_blank\"),e.setState({selfSeatSelectionStatus:!0})}else e.setState({selfSeatSelectionStatus:!1})})}},\"\\u5f00\\u59cb\\u81ea\\u52a9\\u9009\\u5ea7\"),r.a.createElement(\"div\",{className:a+\" seat-self-selection-status\"},\"\\u72b6\\u6001\\uff1a\"+t))),r.a.createElement(\"div\",{className:\"full-bloom option-item\"},r.a.createElement(\"div\",null,r.a.createElement(\"strong\",null,\"\\u672c\\u9009\\u9879\\u53ef\\u6839\\u636e\\u60a8\\u7684\\u5ea7\\u4f4d\\u503e\\u5411\\uff0c\\u4f7f\\u672c\\u7cfb\\u7edf\\u4e3a\\u60a8\\u9009\\u62e9\\u5ea7\\u4f4d\\u3002\"),r.a.createElement(\"ul\",{className:\"warning-list\"},\"\\u8bf7\\u6ce8\\u610f\",r.a.createElement(\"li\",null,\"\\u82e5\\u60a8\\u957f\\u65f6\\u95f4\\u672a\\u5728\\u5fae\\u4fe1\\u4e0a\\u767b\\u9646\\uff08\\u4e00\\u5468\\uff09\\uff0c\\u60a8\\u9700\\u5728\\u624b\\u673a\\u4e0a\\u5148\\u767b\\u9646\\u65b9\\u53ef\\u6709\\u6548\\u3002\"),r.a.createElement(\"li\",null,\"\\u62a2\\u5ea7\\u7cfb\\u7edf\\u6709\\u62a2\\u4e0d\\u5230\\u5ea7\\u4f4d\\u7684\\u98ce\\u9669\\uff0c\\u4f7f\\u7528\\u65f6\\u987b\\u8c28\\u614e\\u3002\"))),r.a.createElement(\"button\",{className:\"button-item btn btn-primary\",onClick:function(){e.setState({redirectToAutoSelection:!0})}},\"\\u81ea\\u52a8\\u9009\\u5ea7\\u7cfb\\u7edf\"))))}}]),t}(n.Component),C=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={back:!1,firstPreference:{label:\"\\u65e0\",value:\"\"},secondPreference:{label:\"\\u65e0\",value:\"\"},thirdPreference:{label:\"\\u505c\\u6b62\\u62a2\\u5ea7\",value:\"\"},automationStart:!1,isSuccess:!1,failReason:null},a.seatOptions=[{label:\"\\u65e0\",value:\"\"}];for(var n=1;n<=208;n++){var r=n+\" (\";a.isSingle(n)?r+=\"\\u5355\\u5ea7)\":r+=\"\\u53cc\\u5ea7)\",a.seatOptions.push({label:r,value:n})}a.seatOptionsRange=[{label:\"\\u65e0\",value:\"\"}];for(var i=1;i<=20;i++){var o=10*(i-1)+1,l=10*i;a.seatOptionsRange.push({label:o+\" ~ \"+l,value:{start:o,end:l}})}return a.monthConverter={Jan:\"01\",Feb:\"02\",Mar:\"03\",Apr:\"04\",May:\"05\",Jun:\"06\",Jul:\"07\",Aug:\"08\",Sep:\"09\",Oct:\"10\",Nov:\"11\",Dec:\"12\"},a.seatPriority=null,a.pause=!1,a.firstPause=!1,a.firstStart=!1,a.seatOptionsRange.push({label:\"201 ~ 208\",value:{start:201,end:208}}),a.searchSeatAndReserveLoop=a.searchSeatAndReserveLoop.bind(Object(m.a)(a)),a.checkVadility=a.checkVadility.bind(Object(m.a)(a)),a.leaveSeat=a.leaveSeat.bind(Object(m.a)(a)),a.firstLog=null,a}return Object(h.a)(t,e),Object(l.a)(t,[{key:\"componentDidUpdate\",value:function(e){if(this.state.automationStart&&this.state.automationStart!==e.automationStart){this.creatLogPiece(this.getCurrntTime()+\" --- \\u5f00\\u59cb\\u9884\\u7ea6\");this.getCurrentHourAndMinute();this.searchSeatAndReserveLoop()}}},{key:\"reservePiece\",value:function(e,t){var a=this;this.creatLogPiece(this.getCurrntTime()+\" --- \\u627e\\u5230\\u76ee\\u6807\"),this.creatLogPiece(this.getCurrntTime()+\" --- \\u5f00\\u59cb\\u9884\\u7ea6\\u7b2c\"+e+\"\\u53f7\\u5ea7\\u4f4d \\uff08\\u7b2c\"+t+\"\\u76ee\\u6807\\uff09\"),this.reserveSeat(e,function(e){a.getReserveResult(e,function(e){var n=a.judgeReserveResult(e);n.isReserveSuccess?(a.creatLogPiece(a.getCurrntTime()+\" --- \\u6210\\u529f\\u9884\\u7ea6\\u7b2c\\u4e8c\\u5929\\u5ea7\\u4f4d\"),1===t?(a.creatLogPiece(a.getCurrntTime()+\" --- \\u7b2c1\\u76ee\\u6807\\u5b8c\\u6210\\uff0c\\u4efb\\u52a1\\u7ed3\\u675f\"),a.creatLogPiece(\"\\u8bf7\\u70b9\\u51fb\\u7ec8\\u6b62\\u9884\\u7ea6\\u6309\\u94ae\")):(a.creatLogPiece(a.getCurrntTime()+\" --- \\u7b2c\"+t+\"\\u76ee\\u6807\\u5b8c\\u6210\\uff0c\\u7ee7\\u7eed\\u62a2\\u5ea7\"),a.seatPriority=t,a.searchSeatAndReserveLoop())):(a.creatLogPiece(a.getCurrntTime()+\" --- \\u56e0\\u4e3a\"+n.reason+\", \\u9884\\u7ea6\\u5931\\u8d25\"),\"\\u4ec5\\u9884\\u7ea6\\u5f53\\u5929\\u5ea7\\u4f4d\"!==n.reason?a.state.automationStart&&a.searchSeatAndReserveLoop():(a.creatLogPiece(a.getCurrntTime()+\" --- \\u5f00\\u59cb\\u79bb\\u5f00\\u5ea7\\u4f4d\"),a.leaveSeat(function(){return a.searchSeatAndReserveLoop()})))})})}},{key:\"searchSeatAndReserveLoop\",value:function(){var e=this;this.pause?(console.log(\"paused\"),setTimeout(function(){e.firstPause&&(e.creatLogPiece(e.getCurrntTime()+\" --- \\u5f00\\u59cb\\u505c\\u6b62\\u81ea\\u52a8\\u9884\\u7ea6\\u7cfb\\u7edf\"),e.creatLogPiece(e.getCurrntTime()+\" ---------------------\"),e.creatLogPiece(e.getCurrntTime()+\" --- \\u6682\\u505c\\u6210\\u529f\"),e.firstPause=!1,setTimeout(function(){e.searchSeatAndReserveLoop()})),e.firstStart||e.creatLogPiece(e.getCurrntTime()+\" --- \\u6682\\u505c\\u4e2d\"),e.searchSeatAndReserveLoop()},3e3)):(this.firstStart&&(this.firstStart=!1,this.creatLogPiece(this.getCurrntTime()+\" ---------------------\"),this.creatLogPiece(this.getCurrntTime()+\" --- \\u91cd\\u65b0\\u5f00\\u59cb\\u81ea\\u52a8\\u9884\\u7ea6\\u7cfb\\u7edf\")),this.creatLogPiece(this.getCurrntTime()+\" --- \\u5f00\\u59cb\\u641c\\u7d22\\u5ea7\\u4f4d\"),this.props.getRoomEnterSerial(function(t){t?e.findAllPossibleSeats(t,function(t){var a=null,n=null;if(\"\"!==e.state.firstPreference.value&&t.includes(e.state.firstPreference.value)&&(a=e.state.firstPreference.value,n=1),null===a&&\"\"!==e.state.secondPreference.value)for(var r=e.state.secondPreference.value.start;r<=e.state.secondPreference.value.end;r++)t.includes(r)&&(a=r,n=2);null===a&&\"\"!==e.state.thirdPreference.value&&(\"single\"===e.state.thirdPreference.value?t.forEach(function(t){e.isSingle(t)&&(console.log(\"call\"),a=t,n=3)}):\"double\"===e.state.thirdPreference.value?t.forEach(function(t){e.isSingle(t)||(a=t,n=3)}):t.length>0&&(a=t[0],n=3)),console.log(\"target : \"+a),console.log(\"priority : \"+n),a&&(null===e.seatPriority||n<e.seatPriority)?e.seatPriority&&n<e.seatPriority?(e.seatPriority=null,e.leaveSeat(function(){e.reservePiece(a,n)})):e.reservePiece(a,n):(e.creatLogPiece(e.getCurrntTime()+\" --- \\u5c1a\\u672a\\u51fa\\u73b0\\u76ee\\u6807\\u5ea7\\u4f4d\"),\"\"===e.state.thirdPreference.value?(e.creatLogPiece(e.getCurrntTime()+\" --- \\u56e0\\u4e3a\\u5931\\u53bb\\u76ee\\u6807\\uff0c\\u672c\\u7cfb\\u7edf\\u505c\\u6b62\\u9884\\u7ea6\\u5ea7\\u4f4d\"),e.creatLogPiece(\"\\u8bf7\\u70b9\\u51fb\\u7ec8\\u6b62\\u9884\\u7ea6\\u6309\\u94ae\")):e.checkBefore21PM()&&e.state.automationStart&&(e.creatLogPiece(e.getCurrntTime()+\" --- \\u91cd\\u65b0\\u5f00\\u59cb\\u641c\\u7d22\\u5ea7\\u4f4d\"),e.searchSeatAndReserveLoop()))}):e.showMachenismError()}))}},{key:\"leaveSeat\",value:function(e){var t=this,a=this.props.anatomy.domain+\"/\"+this.props.anatomy.leavePath+\"?\"+this.props.anatomy.openIDQuery+this.props.userID;fetch(a).then(function(e){return e.text()}).then(function(a){a.includes(\"\\u53d6\\u6d88\\u9884\\u5b9a\\uff01\")||a.includes(\"\\u9605\\u89c8\\u5ba4\\uff1a\\u65e0\\u4fe1\\u606f\\uff01\")?(t.creatLogPiece(t.getCurrntTime()+\" --- \\u79bb\\u5f00\\u5ea7\\u4f4d\\u6210\\u529f\"),t.state.automationStart&&e()):(t.creatLogPiece(t.getCurrntTime()+\" --- \\u79bb\\u5f00\\u5ea7\\u4f4d\\u5931\\u8d25\"),t.creatLogPiece(t.getCurrntTime()+\" --- \\u91cd\\u65b0\\u5c1d\\u8bd5\\u79bb\\u5f00\\u5ea7\\u4f4d\"),t.leaveSeat(e))})}},{key:\"findAllPossibleSeats\",value:function(e,t){fetch(this.getSeatViewURL(e)).then(function(e){return e.text()}).then(function(e){var a=e.split(\"\\n\"),n=[];a.forEach(function(e){if(e.includes('onclick=\"dianji(')){var t=e.split(\">\");if(t[1]){var a=t[1].split(\"<\");a[0]&&n.push(parseInt(a[0],10))}}}),console.log(n),t(n)})}},{key:\"judgeReserveResult\",value:function(e){if(e.includes(\"\\u60a8\\u7684\\u4f4d\\u7f6e\\u5728\"))return{isReserveSuccess:!1,reason:\"\\u5f53\\u5929\\u5ea7\\u4f4d\\u5c1a\\u672a\\u89e3\\u9664\"};if(e.includes(\"\\u7ec8\\u7aef\\u673a\\u5237\\u5361\")){var t=this.getCurrntTime().split(\" \")[0];return console.log(t),e.includes(t)?{isReserveSuccess:!1,reason:\"\\u4ec5\\u9884\\u7ea6\\u5f53\\u5929\\u5ea7\\u4f4d\"}:{isReserveSuccess:!0,reason:\"\\u6210\\u529f\\u9884\\u7ea6\\u7b2c\\u4e8c\\u5929\\u5ea7\\u4f4d\"}}return e.includes(\"\\u6392\\u961f\")?{isReserveSuccess:!1,reason:\"\\u6b63\\u5728\\u9884\\u7ea6\\u5176\\u4ed6\\u5ea7\\u4f4d\"}:e.includes(\"\\u8be5\\u5ea7\\u4f4d\\u5df2\\u7ecf\\u88ab\\u9884\\u7ea6\")?{isReserveSuccess:!1,reason:\"\\u8be5\\u5ea7\\u4f4d\\u5df2\\u7ecf\\u88ab\\u4ed6\\u4eba\\u9884\\u7ea6\"}:e.includes(\"\\u5df2\\u9884\\u7ea6\")?{isReserveSuccess:!1,reason:\"\\u60a8\\u5df2\\u7ecf\\u6210\\u529f\\u9884\\u7ea6\\u5ea7\\u4f4d\"}:(this.showMachenismError(),null)}},{key:\"creatLogPiece\",value:function(e){var t=document.getElementById(\"reservation-log\");if(t){var a=document.createElement(\"li\"),n=document.createTextNode(e);a.appendChild(n),this.firstLog?t.insertBefore(a,this.firstLog):t.appendChild(a),this.firstLog=a}}},{key:\"getReserveSeatURL\",value:function(e){return this.props.anatomy.domain+\"/\"+this.props.anatomy.reservePath+\"?\"+this.props.anatomy.roomIDQuery+this.props.anatomy.firstFloorRoomID+\"&\"+this.props.anatomy.openIDQuery+this.props.userID+\"&\"+this.props.anatomy.seatNumQuery+e}},{key:\"getSeatViewURL\",value:function(e){return this.props.anatomy.domain+\"/\"+this.props.anatomy.selectJSPPath+\"?\"+this.props.anatomy.serialQuery+e+\"&\"+this.props.anatomy.openIDQuery+this.props.userID+\"&\"+this.props.anatomy.roomNameQuery+this.props.anatomy.roomNameUnknown+\"&\"+this.props.anatomy.yuelanshiIDQuery+this.props.anatomy.firstFloorRoomID}},{key:\"isSingle\",value:function(e){return e>=89&&e<=110||e>=191&&e<=208}},{key:\"reserveSeat\",value:function(e,t){var a=this.getReserveSeatURL(e);console.log(a),fetch(a).then(function(e){return e.text()}).then(function(e){console.log(e),t(e)})}},{key:\"getReserveResult\",value:function(e,t){var a=this,n=e.split(\"serialNo=\");n[1]?this.checkVadility(n[1],function(){var e=a.props.anatomy.domain+\"/\"+a.props.anatomy.selectJSPPath+\"?\"+a.props.anatomy.serialQuery+n[1];fetch(e).then(function(e){return e.text()}).then(function(e){var n=e.split('<a href=\"\" class=\"\" ');if(n[1]){var r=n[1].split(\"</a>\");if(r[0]){var i=r[0].split(\">\");if(i[1]){var o=i[1];console.log(o),t(o)}else a.showMachenismError()}else a.showMachenismError()}else a.showMachenismError()})}):this.showMachenismError()}},{key:\"showMachenismError\",value:function(){this.creatLogPiece(\"\\u56e0\\u9884\\u7ea6\\u5ea7\\u4f4d\\u673a\\u5236\\u6539\\u53d8\\uff0c\\u672c\\u7cfb\\u7edf\\u5df2\\u7ecf\\u5931\\u6548\"),this.creatLogPiece(\"\\u8bf7\\u70b9\\u51fb\\u7ec8\\u6b62\\u9884\\u7ea6\\u6309\\u94ae\")}},{key:\"checkBefore21PM\",value:function(){return this.getCurrentHourAndMinute().hour<21||(this.creatLogPiece(\"\\u56e0\\u5df2\\u7ecf\\u8fc721\\u70b9\\uff0c\\u7ee7\\u7eed\\u9884\\u7ea6\\u5df2\\u65e0\\u610f\\u4e49\\uff0c\\u56e0\\u6b64\\u505c\\u6b62\\u9884\\u7ea6\\u3002\"),this.creatLogPiece(\"\\u8bf7\\u70b9\\u51fb\\u53d6\\u6d88\\u6309\\u94ae\"),!1)}},{key:\"getCurrntTime\",value:function(){var e=(new Date).toString().split(\" \");return e[3]+\"-\"+this.monthConverter[e[1]]+\"-\"+e[2]+\" \"+e[4]}},{key:\"getCurrentHourAndMinute\",value:function(){var e=(new Date).toString().split(\" \")[4].split(\":\");return{hour:e[0],minute:e[1]}}},{key:\"checkVadility\",value:function(e,t){var a=this,n=this.props.anatomy.domain+\"/\"+this.props.anatomy.selectSerialPath+\"?\"+this.props.anatomy.serialQuery+e;fetch(n).then(function(e){return e.text()}).then(function(n){console.log(n),\"no\"===n?a.checkVadility(e,t):t()})}},{key:\"render\",value:function(){var e=this;if(!this.props.userID||!this.props.agree)return r.a.createElement(v.a,{to:\"/\"});if(this.state.back)return r.a.createElement(v.a,{to:\"/seat-selection\"});var t=\"button-item btn btn-primary\",a=\"\\u8bf7\\u9009\\u62e9\\u60a8\\u60f3\\u8981\\u7684\\u5ea7\\u4f4d\",n=\"\"===this.state.firstPreference.value&&\"\"===this.state.secondPreference.value&&\"\"===this.state.thirdPreference.value,i=\"\\u8bbe\\u5b9a\";return this.state.automationStart&&(i=\"\"),n||(t=\"button-item btn btn-success\",a=\"\\u5f00\\u59cb\\u62a2\\u5ea7\"),r.a.createElement(\"div\",{className:\"auto-selection-page\"},r.a.createElement(\"div\",{className:\"full-bloom\"},r.a.createElement(\"h1\",null,\"\\u81ea\\u52a8\\u9009\\u5ea7\\u8bbe\\u5b9a\"+i),r.a.createElement(\"button\",{className:\"button-item btn btn-danger\",onClick:function(){e.setState({back:!0,automationStart:!1}),e.pause=!1,e.firstPause=!1,e.firstStart=!1}},\"\\u8fd4\\u56de\")),!this.state.automationStart&&r.a.createElement(\"div\",{className:\"full-bloom automation-middle-part\"},r.a.createElement(\"div\",{className:\"auto-option-item\"},r.a.createElement(\"h2\",null,\"\\u8bf7\\u9009\\u62e9\\u60a8\\u6700\\u60f3\\u8981\\u7684\\u4e00\\u4e2a\\u5ea7\\u4f4d\"),r.a.createElement(k.a,{name:\"firstPreference\",options:this.seatOptions,value:this.state.firstPreference,onChange:function(t){e.setState({firstPreference:t})}})),r.a.createElement(\"div\",{className:\"auto-option-item\"},r.a.createElement(\"h2\",null,\"\\u5176\\u6b21\\uff0c\\u8bf7\\u9009\\u62e9\\u60a8\\u53ef\\u4ee5\\u63a5\\u53d7\\u7684\\u5ea7\\u4f4d\\u8303\\u56f4\"),r.a.createElement(k.a,{name:\"secondPreference\",options:this.seatOptionsRange,value:this.state.secondPreference,onChange:function(t){e.setState({secondPreference:t})}})),r.a.createElement(\"div\",{className:\"auto-option-item\"},r.a.createElement(\"h2\",null,\"\\u82e5\\u4e0a\\u8ff0\\u5ea7\\u4f4d\\u5747\\u65e0\\u6cd5\\u83b7\\u5f97\\uff0c\\u8bf7\\u9009\\u62e9\\u53ef\\u63a5\\u53d7\\u7684\\u5ea7\\u4f4d\\u7684\\u7c7b\\u578b\"),r.a.createElement(k.a,{name:\"thirdPreference\",options:[{label:\"\\u505c\\u6b62\\u62a2\\u5ea7\",value:\"\"},{label:\"\\u4efb\\u610f\\u5ea7\\u4f4d\",value:\"any\"},{label:\"\\u4efb\\u610f\\u5355\\u5ea7\",value:\"single\"},{label:\"\\u4efb\\u610f\\u53cc\\u5ea7\",value:\"double\"}],value:this.state.thirdPreference,onChange:function(t){e.setState({thirdPreference:t})}}))),this.state.automationStart&&r.a.createElement(\"div\",{className:\"full-bloom\"},r.a.createElement(\"ul\",null,\"\\u5f53\\u524d\\u6307\\u793a\\uff1a\",r.a.createElement(\"li\",null,\"\\u9996\\u8981\\u76ee\\u6807-\"+this.state.firstPreference.label),r.a.createElement(\"li\",null,\"\\u6b21\\u8981\\u76ee\\u6807-\"+this.state.secondPreference.label),r.a.createElement(\"li\",null,\"\\u5ea7\\u4f4d\\u7c7b\\u578b\\u503e\\u5411\\uff1a\"+this.state.thirdPreference.label)),r.a.createElement(\"h2\",null,\"\\u9884\\u7ea6\\u72b6\\u6001\\u76ee\\u5f55\\uff1a\"),r.a.createElement(\"ul\",{id:\"reservation-log\"})),r.a.createElement(\"div\",null,!this.state.automationStart&&r.a.createElement(\"button\",{className:t+\" auto-start-button\",disabled:n,onClick:function(){e.setState({automationStart:!0}),e.pause=!1}},a),this.state.automationStart&&r.a.createElement(\"div\",null,r.a.createElement(\"div\",{id:\"loop-control-button\"},r.a.createElement(\"div\",{id:\"loop-control-status\"},\"\\u6682\\u505c\"),r.a.createElement(\"button\",{id:\"loop-button\",className:\"button-item btn btn-primary\",onClick:function(){var t=document.getElementById(\"loop-control-button\"),a=document.getElementById(\"loop-control-status\"),n=document.getElementById(\"loop-button\");if(e.pause){e.firstStart=!0,e.firstPause=!1,e.pause=!1,t.removeChild(a);var r=document.createElement(\"div\");r.id=\"loop-control-status\";var i=document.createTextNode(\"\\u6682\\u505c\");r.appendChild(i),t.insertBefore(r,n)}else{e.firstPause=!0,e.pause=!0,e.firstStart=!1,t.removeChild(a);var o=document.createElement(\"div\");o.id=\"loop-control-status\";var s=document.createTextNode(\"\\u5f00\\u59cb\");o.appendChild(s),t.insertBefore(o,n),e.creatLogPiece(e.getCurrntTime()+\" --- \\u5f00\\u59cb\\u6682\\u505c\\u81ea\\u52a8\\u9884\\u7ea6\\u7cfb\\u7edf\")}}},\"\\u70b9\\u6211\")),r.a.createElement(\"button\",{className:\"button-item btn btn-danger auto-end-button\",onClick:function(){e.setState({automationStart:!1}),e.pause=!1,e.firstPause=!1,e.firstStart=!1,e.firstLog=!1}},\"\\u7ec8\\u6b62\\u9884\\u7ea6\"))))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={condition:!1,userID:null},a.anatomy={domain:\"http://wx.jlcclib.com/wechat\",obtainListPath:\"obtainYlist\",obtainSeatInfoPath:\"obtainAllSeatInfo\",selectSerialPath:\"selectSerialNo\",selectJSPPath:\"selectSerialNoToJsp\",reservePath:\"reserve\",leavePath:\"leave\",roomIDQuery:\"id=\",roomNameQuery:\"name=\",openIDQuery:\"openId=of_\",serialQuery:\"serialNo=\",yuelanshiIDQuery:\"yuelanshiId=\",showIDQuery:\"id=\",seatNumQuery:\"seatno=\",firstFloorRoomID:\"402881b14586df4a014586e28aae0000\",firstFloorName:\"\\u4e00\\u697c\\u8bfb\\u8005\\u81ea\\u4fee\\u533a\",roomNameUnknown:\"???????\"},a.setValueHandler=a.setValue.bind(Object(m.a)(a)),a.getRoomEnterSerial=a.getRoomEnterSerial.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:\"setValue\",value:function(e,t){var a=this.state;a[e]=t,this.setState(a)}},{key:\"getRoomEnterSerial\",value:function(e){var t=this;if(this.state.userID){var a=this.anatomy.domain+\"/\"+this.anatomy.obtainSeatInfoPath+\"?\"+this.anatomy.roomIDQuery+this.anatomy.firstFloorRoomID+\"&\"+this.anatomy.openIDQuery+this.state.userID+\"&\"+this.anatomy.roomNameQuery+this.anatomy.firstFloorName;fetch(a).then(function(e){return e.text()}).then(function(a){console.log(a);var n=a.split(\"serialNo=\");n[1]?t.checkVadility(n[1],e):e(null)})}else e(null)}},{key:\"checkVadility\",value:function(e,t){var a=this,n=this.anatomy.domain+\"/\"+this.anatomy.selectSerialPath+\"?\"+this.anatomy.serialQuery+e;console.log(n),fetch(n).then(function(e){return e.text()}).then(function(n){console.log(n),\"no\"===n?a.checkVadility(e,t):t(e)})}},{key:\"render\",value:function(){var e=this;return r.a.createElement(d.a,null,r.a.createElement(f.a,null,r.a.createElement(p.a,{exact:!0,path:\"/\",component:g}),r.a.createElement(p.a,{path:\"/disclaimer\",render:function(t){return r.a.createElement(S,Object.assign({},t,{setValueHandler:e.setValueHandler}))}}),r.a.createElement(p.a,{path:\"/id-collecter\",render:function(t){return r.a.createElement(P,Object.assign({},t,{setValueHandler:e.setValueHandler,agree:e.state.condition}))}}),r.a.createElement(p.a,{path:\"/seat-selection\",render:function(t){return r.a.createElement(N,Object.assign({},t,{setValueHandler:e.setValueHandler,userID:e.state.userID,agree:e.state.condition,getRoomEnterSerial:e.getRoomEnterSerial,anatomy:e.anatomy}))}}),r.a.createElement(p.a,{path:\"/auto-selection\",render:function(t){return r.a.createElement(C,Object.assign({},t,{userID:e.state.userID,setValueHandler:e.setValueHandler,agree:e.state.condition,anatomy:e.anatomy,getRoomEnterSerial:e.getRoomEnterSerial}))}})))}}]),t}(n.Component),L=Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function R(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){\"installed\"===t.state&&(navigator.serviceWorker.controller?console.log(\"New content is available; please refresh.\"):console.log(\"Content is cached for offline use.\"))}}}).catch(function(e){console.error(\"Error during service worker registration:\",e)})}a(54);o.a.render(r.a.createElement(w,null),document.getElementById(\"root\")),function(){if(\"serviceWorker\"in navigator){if(new URL(\"/howardpu/info/seat-selection\",window.location).origin!==window.location.origin)return;window.addEventListener(\"load\",function(){var e=\"\".concat(\"/howardpu/info/seat-selection\",\"/service-worker.js\");L?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get(\"content-type\").indexOf(\"javascript\")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):R(e)}).catch(function(){console.log(\"No internet connection found. App is running in offline mode.\")})}(e),navigator.serviceWorker.ready.then(function(){console.log(\"This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ\")})):R(e)})}}()}},[[35,1,2]]]);","extractedComments":[]}